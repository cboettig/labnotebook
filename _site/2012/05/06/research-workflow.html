

  <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>My research workflow, based on Github</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/assets/css/bootstrap.css" rel="stylesheet">
    <link href="/assets/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="/assets/css/solarized.css" rel="stylesheet">
    <link href="/assets/css/docs.css" rel="stylesheet">
  </head>
  <body> 

    <!-- Navbar
    ================================================== -->

   
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">Carl Boettiger</a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class=""><a href="/index.html">Home</a></li>
              <li><a href="/vita.html">Vita</a></li>
              <li><a href="/research.html">Research</a></li>
              <li><a href="/teaching.html">Teaching</a></li>
              <li><a href="/lab-notebook.html">Lab Notebook</a></li>
            </ul>
          </div><!--/.nav-collapse -->
           <form class="navbar-search pull-right" method="get" action="http://google.com/search">
             <input type="hidden" name="q" value="site:carlboettiger.info">
             <input class="search-query" type="text" name="q">
           </form>

        </div>
      </div>
    </div>




    <div class="container">

<!-- Masthead
================================================== -->
 
<header>
    <h1 class="entry-title">My research workflow, based on Github</h1>
    <h3></h3>
</header>
<hr class="soften">





      <div class="row-fluid">
        <div class="span8">
          <p>This post outlines my current research workflow.  This has evolved over time, so only
my most recent projects hold completely to it, though almost all my projects follow the
general R package structure.  Two main differences are visible in my earlier projects:
I used to keep scripts in <code>demo</code> before they became the more complete knitr markdown 
in <code>inst/examples</code>.  I previously relied on a custom package called socialR to post
results from those scripts to flickr, and would then embed the results in my wordpress
notebook, linking back to the demo file in github.  knitr has allowed me to keep
those figures, code and text in the package repository.  This keeps everything more 
centralized (to github), and lets each of the examples be updated in a more natural way
than the linear record in the lab notebook.  (Images are still hosted on flickr to
avoid commiting the binary files, knitr handles this upload rather well.).  </p>

<p>I&#39;ve recently gotten better at always including <code>Roxygen</code> documentation for packages.
Since <code>knitr</code> and markdown are recent developments for me, many older and even working
manuscripts are still local in LaTeX.  Being sensitive to the desires of collaborators
means, that some projects are kept locally or hosted as private, secure repositories.  </p>

<h1 id="toc_31">My Worflow</h1>

<p>When I begin a new research project, I create a repository for that project in <a href="https://github.com/cboettig">Github</a>. 
Projects that build substantially on earlier work of mine may start as a <code>clone</code> 
of one of my existing projects. New directions in an existing project will instead
begin as a branch within that repository, that may merge or be split out.  </p>

<p>Each repository is organized as an R package, with the basic directories <code>R/</code>, <code>src/</code>, <code>man/</code>
<code>data/</code>, <code>inst/examples/</code> and <code>inst/docs/</code>, and the metadata file <code>DESCRIPTION</code> providing
the R package metadata such as author and dependencies.  <code>README.md</code> files provide 
descriptions of the directories.  The package is installable directly from R through
Github.  The R package structure nicely handles software dependencies, documentation, and 
metadata in a consistent and portable structure: </p>

<ul>
<li><code>R/</code> provides R functions representing commonly used analyses. </li>
<li><code>src/</code> provides C source-code for any R functions that are too slow by themselves.</li>
<li><code>man/</code> contains automatically generated documentation of these functions from the 
Roxygen documentation included in the function files. </li>
<li><code>data/</code> contains small data files.  Version management is not ideal for large data files.
Instead, a README file contains metadata and links to data stored on a seperate webserver.<br>
The README file can be version managed within git and nicely displayed on Github.</li>
<li><code>inst/examples/</code> contains each of my investigations.  These are saved as 
<a href="http://yihui.name/knitr">knitr</a> files, which allow me to mix markdown text describing
what I am doing with each code block.  Knitr runs this code and assembles
the results in a markdown format that displays the code, images, and supporting text nicely
together. Long blocks of code become abstracted as functions and move into the <code>R</code> directory,
where they recieve formal documentation and can be more easily used in later examples. </li>
<li>Sections from mature examples can be moved into <code>inst/doc/</code> as another markdown file that
will eventually become a publication associated with this work.  The paper acts a Sweave-style
dynamic document that still contains the code relevant to re-create the examples, though options
can now hide that code from the final display. In addition to the markdown format for online
viewing, <code>inst/doc/</code> includes utilities from knitr and <a href="http://johnmacfarlane.net/pandoc/">pandoc</a>
which handle citations and can convert this markdown file into a LaTeX or Word document for 
journal submission.</li>
</ul>

<p>Github maintains and displays the version history of the workflow, making it easy to compare 
earlier versions of the manuscript, and track the history of the results to even before they
reach the manuscript in <code>inst/examples/</code>.  Contributions of collaborators using Github are easily
tracked and displayed as well.  Github can provide version-stable links that will point to 
any element at a fixed point in the process, and dynamic links that always point to the most
recent version (or even particular line of code in a version). </p>

<p>Github&#39;s issues tracker provides a convenient platform to record, sort, and prioritize issues
that need to be addressed and directions for future exploration. Issues can be submitted by anyone.  </p>

<p>The R package structure provides a standardized and 
portable container for the project suitable for combining functions, scripts, documentation, 
and examples, and also handling software dependencies and versions.  </p>

        </div>


        <!-- Custom sidebar -->      
        <div class="span4">
          <div class="sidebar">
            Posted on
            <time pubdate datetime="2012-05-06T00:00:00-07:00" itemprop="datePublished">06 May 2012</time>. <br />
            <span itemprop="keywords">
            
          </span>
          <br />
          <br />
          
          <p>Previous: <a href='/2012/05/04/notes.html'>Notes</a></p>
          <br />
          
          
          <p>Next: <a href='/2012/05/07/notes.html'>Data to Knowledge Day 1</a></p>
          

          </div>
        </div>
      </div>

        <!-- Disqus Comments -->
      <div class="row">
        <div class="span8">          
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'cboettig'; // required: replace example with your forum shortname
                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
      </div>



        <footer class="footer">
         <div class="row">
            <div class="span4">
              <a href="mailto:cboettig@gmail.com"><i class="icon-envelope"></i></a>
              <a href="https://twitter.com/cboettig"><img src="/assets/img/icon-twitter.png" alt="twitter"> </a> 
              <a href="https://github.com/cboettig"><img src="/assets/img/icon-github.png" alt="github"></a> 
              <a href="/atom.xml"><img src="/assets/img/icon-rss.png" alt="feed"></a>
            </div>
            <div class="span2" style="text-align:center">
              <a rel="license" href="http://onsclaims.wikispaces.com/"><img src="http://onsclaims.wikispaces.com/file/view/ons-aci2-icon.png" alt="ONS"></a> <br><br>
              <p> <a class="btn btn-mini" href="https://github.com/cboettig/labnotebook">view logs</a></p>
            </div>
            <div class="span4">
              <a rel="license" href="http://creativecommons.org/publicdomain/zero/1.0/"><img src="http://i.creativecommons.org/l/zero/1.0/88x31.png" alt="CC0" style="float:right"></a> 
            </div>
        </div>
      </footer>
    </div><!-- /container -->
    
        <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- Equations using MathJax -->
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "all"} } });       </script>
    <script src="/assets/js/jquery.js"></script>
    <script src="/assets/js/bootstrap-collapse.js"></script>
    <!--
    <script src="/assets/js/bootstrap-dropdown.js"></script>
    <script src="/assets/js/google-code-prettify/prettify.js"></script>
    <script src="/assets/js/bootstrap-transition.js"></script>
    <script src="/assets/js/bootstrap-alert.js"></script>
    <script src="/assets/js/bootstrap-modal.js"></script>
    <script src="/assets/js/bootstrap-scrollspy.js"></script>
    <script src="/assets/js/bootstrap-tab.js"></script>
    <script src="/assets/js/bootstrap-tooltip.js"></script>
    <script src="/assets/js/bootstrap-popover.js"></script>
    <script src="/assets/js/bootstrap-button.js"></script>
    <script src="/assets/js/bootstrap-carousel.js"></script>
    <script src="/assets/js/bootstrap-typeahead.js"></script>
    <script src="/assets/js/application.js"></script>
    -->


      <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-18401403-1']);
          _gaq.push(['_trackPageview']);
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
  </script>

<!--  UA-29776516-1 -->

  </body>
</html>

